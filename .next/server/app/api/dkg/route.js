"use strict";(()=>{var e={};e.id=609,e.ids=[609],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8341:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>w,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>k});var o={};r.r(o),r.d(o,{GET:()=>u});var s=r(5419),n=r(9108),a=r(9678),i=r(8070),d=r(5408);async function u(e){let{searchParams:t}=new URL(e.url),r=t.get("id");if(!r)return i.Z.json({error:"Missing KA id"},{status:400});try{let e=await d.w.getKnowledgeAsset(r);return i.Z.json(e)}catch(e){return i.Z.json({error:e.message},{status:404})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/dkg/route",pathname:"/api/dkg",filename:"route",bundlePath:"app/api/dkg/route"},resolvedPagePath:"D:\\Development\\Projects\\core\\ezSocial\\src\\app\\api\\dkg\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:p,serverHooks:g,headerHooks:h,staticGenerationBailout:k}=l,w="/api/dkg/route";function f(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}},5408:(e,t,r)=>{r.d(t,{w:()=>s});let o=new(r(3524)).PrismaClient,s={async publishKnowledgeAsset(e){console.log("Mock DKG: Publishing asset...");let t=await o.knowledgeAsset.create({data:{topic:e.headline||"Unknown Topic",source:e.author||"Unknown Source",jsonld:JSON.stringify(e)}}),r=`did:dkg:otp:2043/0x5caf454ba92e6f2c929df14667d360ed97d16d51/${t.id}`;return console.log(`Mock DKG: Published asset with UAL: ${r}`),{kaId:t.id,ual:r}},async getKnowledgeAsset(e){console.log(`Mock DKG: Fetching asset ${e}...`);let t=await o.knowledgeAsset.findUnique({where:{id:e}});if(!t)throw Error("Asset not found in mock DKG");return JSON.parse(t.jsonld)}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[638,206],()=>r(8341));module.exports=o})();