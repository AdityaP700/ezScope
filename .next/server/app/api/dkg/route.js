(()=>{var e={};e.id=609,e.ids=[609],e.modules={3196:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=3196,e.exports=r},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},10367:e=>{"use strict";e.exports=require("websocket")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},96206:e=>{"use strict";e.exports=require("console")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},67643:e=>{"use strict";e.exports=require("diagnostics_channel")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},98188:e=>{"use strict";e.exports=require("module")},41808:e=>{"use strict";e.exports=require("net")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},87503:e=>{"use strict";e.exports=require("node:net")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},84492:e=>{"use strict";e.exports=require("node:stream")},72477:e=>{"use strict";e.exports=require("node:stream/web")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},65628:e=>{"use strict";e.exports=require("node:zlib")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},35356:e=>{"use strict";e.exports=require("stream/web")},71576:e=>{"use strict";e.exports=require("string_decoder")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},29830:e=>{"use strict";e.exports=require("util/types")},71267:e=>{"use strict";e.exports=require("worker_threads")},59796:e=>{"use strict";e.exports=require("zlib")},59774:(e,r,t)=>{"use strict";t.r(r),t.d(r,{headerHooks:()=>q,originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>a,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{GET:()=>p});var i=t(95419),o=t(69108),u=t(99678),c=t(78070),n=t(25408);async function p(e){let{searchParams:r}=new URL(e.url),t=r.get("id");if(!t)return c.Z.json({error:"Missing KA id"},{status:400});try{let e=await n.w.getKnowledgeAsset(t);return c.Z.json(e)}catch(e){return c.Z.json({error:e.message},{status:404})}}let a=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/dkg/route",pathname:"/api/dkg",filename:"route",bundlePath:"app/api/dkg/route"},resolvedPagePath:"/Users/ayush/Documents/hackathons/graph-hack/ezScope/src/app/api/dkg/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:x,headerHooks:q,staticGenerationBailout:h}=a,g="/api/dkg/route";function m(){return(0,u.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}},25408:(e,r,t)=>{"use strict";let s;t.d(r,{w:()=>u});var i=t(1566);let o={endpoint:process.env.DKG_ENDPOINT||"http://localhost:8900",port:8900,blockchain:{name:"otp:2043",publicKey:process.env.DKG_WALLET_PUBLIC_KEY,privateKey:process.env.DKG_WALLET_PRIVATE_KEY},maxNumberOfRetries:30,frequency:2,contentType:"all",nodeApiVersion:"/v1"};try{process.env.DKG_WALLET_PRIVATE_KEY&&(s=new i.Z(o))}catch(e){console.error("Failed to initialize DKG client",e)}let u={async publishKnowledgeAsset(e){if(!s)throw Error("DKG client not initialized");console.log("Publishing asset to DKG...");let r=await s.asset.create({public:e},{epochsNum:5});return console.log(`DKG Asset created. UAL: ${r.UAL}`),{kaId:r.UAL,ual:r.UAL}},async getKnowledgeAsset(e){if(!s)throw Error("DKG client not initialized");return console.log(`Fetching asset ${e} from DKG...`),(await s.asset.get(e)).public}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,206,566],()=>t(59774));module.exports=s})();